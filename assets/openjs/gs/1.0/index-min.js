/*! caja-kissy  */
KISSY.add("openjs/gs/1.0/index",function(t){function e(e){var i={};i.addListener=function(t,e){i.addListener.Fncs[t]||(i.addListener.Fncs[t]=[]),i.addListener.Fncs[t].push(e)},i.addListener.Fncs=[],i.fireListener=function(t,e){i.fireListener.Fncs[t]&&i.fireListener.Fncs[t](e)},i.fireListener.Fncs=[],function(){o.on(window,"scroll",function(){var n={scrollTop:t.DOM.scrollTop(window)};e.markReadOnlyRecord(n);var o=e.tame(n);if(i.addListener.Fncs.windowScroll)for(var r=0;i.addListener.Fncs.windowScroll.length>r;r++)i.addListener.Fncs.windowScroll[r](o)})}(),function(){i.fireListener.Fncs.windowScroll=function(t){t.props=t.props||{};var e={};e.scrollTop=t.props.scrollTop,KISSY.Anim(window,e,t.duration,t.easing).run()}}(),function(){o.on(window,"resize",function(){var t={viewportHeight:n.viewportHeight(),viewportWidth:n.viewportWidth()};e.markReadOnlyRecord(t);var o=e.tame(t);if(i.addListener.Fncs.windowResize)for(var r=0;i.addListener.Fncs.windowResize.length>r;r++)i.addListener.Fncs.windowResize[r](o)})}(),function(){function t(t,e){var o=n.create("<iframe id=''"+r+"' name='"+r+"'></iframe>");n.css(o,"display","none");var i=n.create('<form action="'+t+'" target="'+r+'" method="post"  enctype="multipart/form-data"></form>');n.css(o,"display","none");var a=n.create('<input type="hidden" name="token" value="'+e+'"/>');return i.appendChild(a),{form:i,iframe:o}}var r="tempCajaIframe";o.delegate(document,"change","input.J_TCajaUploadImg",function(r){var a=r.target,s=t(n.attr(a,"data-url"),1);n.append(a,s.form),document.body.appendChild(s.iframe),document.body.appendChild(s.form),s.form.submit();var g=function(t){if(i.addListener.Fncs.cajaupload)for(var e=0;i.addListener.Fncs.cajaupload.length>e;e++)i.addListener.Fncs.cajaupload[e](t)};o.on(window,"cajaupload",function(t){t={content:t.content},e.markReadOnlyRecord(t);var i=e.tame(t);g(i),o.remove(window,"cajaupload"),n.remove(s.iframe),n.remove(s.form)})})}(),i=e.markReadOnlyRecord(i),e.markFunction(i.addListener),e.markFunction(i.fireListener);var r=e.tame(i);return function(){return{GS:r}}}var n=t.DOM,o=t.Event;return e},{requires:["core"]});